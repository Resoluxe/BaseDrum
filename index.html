<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>BaseDrum : Web-Based Drum Machine / Pattern Playground</title>
    <link rel="stylesheet" href="./styles.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="./Kinfinity%20Logo.png">
</head>
<body>
    <h1 class="logo">BaseDrum<span id="version-number">v1.0.8</span><br/><span class="intro">A Web-Based Drum Machine / Pattern Playground</span></h1>

    <hr/>

    <div id="unique-divider">⎮</div>
    <button class="step-" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>

    <div id="grid-container">

        <div id="info-bar">
            <label id="file-name-label" for="file-name"> <input type="text" id="file-name" placeholder="filename : lowercase only!" /> </label>
            <a href="#" id="downloadLink">Download Pattern</a>
            <input id="upload-input" type="file" name="uploaded-file" accept="text/html" />
            <button id="upload">⏏︎</button>
            <button id="download">↓</button>
            <button id="loop">LOOP</button>
            <label class="info-label" id="acc-label"><input class="info-input" type="number" min="0.0" max="1.0" step="0.01" id="ac" placeholder="0.5" /></label>
            <label class="info-label" id="cond-label"><input class="info-input" type="number" min="0.0" max="1.0" step="0.01" id="cond" placeholder="1.0" /></label>
            <label class="info-label" id="sub-label"><input class="info-input" type="number" min="0" max="5" id="sub" placeholder="1" /></label>
            <label class="info-label" id="micro-label"><input class="info-input" type="number" min="0.00" max="0.50" step="0.01" id="micro" placeholder="0.00" /></label>
            <label class="info-label" id="bpm-label"><input class="info-input" type="number" id="bpm" placeholder="120" /></label>
            <label class="info-label" id="beat-label"><input class="info-input" type="number" id="beat" placeholder="4" min = "1" /></label>
            <label class="info-label" id="subptn-label"><input class="info-input" type="number" id="subptn" placeholder="1" min = "1" /></label>
            <button id="add-page">P.ADD</button>

        </div>

        <div id="nav-bar">
            <button id="nuke-all"> ☢︎ </button>
            <button id="add-inst"> Inst+ </button>
            <button id="del-inst"> Inst- </button>
            <button id="add-col"> + </button>
            <button id="del-col"> - </button>
            <button id="play-all"> ▶All </button>
            <div class="nav-utils">
                <button id="accent"> ACCNT </button>
                <button id="conditional"> ⚀COND </button>
                <button id="ratchet"> RTCHT </button>
                <button id="micro-timing"> MICRO </button>
                <button id="tempo"> TEMPO </button>
                <button id="sign"> SIGN </button>
                <button id="page_left"> < </button>
                <button id="page_right"> > </button>
            </div>
            <button id="del-page">P.DEL</button>
        </div>

        <div id="project" data-name="Unnamed Project" data-steps="16" data-sign="4" data-tempo="120">
            <div id="pattern-1">
                <div id="seq-row-1-1">
                    <button class="row-clear">1</button>
                    <label for="inst-1" id="new-inst-1">New Inst...</label>
                    <input id="inst-1" type="file" accept=".mp3, .wav"/>
                    <audio id="audio-1" src="" autoplay></audio>
                    <button class="mute"> M </button>
                    <button class="solo"> S </button>
                    <div class="steps">
                        <button class="step1" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step2" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step3" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step4" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <div class="divider">⎮</div>
                        <button class="step5" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step6" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step7" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step8" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <div class="divider">⎮</div>
                        <button class="step9" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step10" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step11" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step12" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <div class="divider">⎮</div>
                        <button class="step13" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step14" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step15" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                        <button class="step16" data-active="no" data-acc="0.5" data-cond="1.0" data-sub="1" data-micro="0.00"></button>
                    </div>
                    <button class="continue"><</button>
                </div>
            </div>
        </div>

    </div>

    <hr/>

    <button type="button" class="collapsible" id="instruction_btn">Interface Manual</button>
    <div id="instruction">
        <img id="instruction_pic" src="./BaseDrum_104_Interface@2x.png" alt="A screenshot of BaseDrum interface" />
        <ol id="instruction-list">
            <li>File management : Filename input / display - Upload - Download
                <ul>
                    <li><span class = "instruction-light">Files are downloaded / uploaded as HTML files with 'bdv(major version number)-' prefix.</span></li>
                </ul>
            </li>
            <li>Pattern control : Loop (one pattern) - Play All (through all patterns)</li>
            <li>Step parameter control : Accent - Conditional - Substep - Microtiming
            <ul>
                <li><span class = "instruction-light">After a particular step is toggled, its parameters will be displayed on this section.</span></li>
                <li><span class = "instruction-light">You can then manipulate those values to perform per-step manipulations.</span></li>
            </ul>
            </li>
            <li>Project parameter Control : Tempo (BPM) / Length of a beat
                <ul>
                    <li><span class = "instruction-light">1 Tick = (60000 ms) / (bpm * beat length)</span></li>
                </ul>
            </li>
            <li>Page Management : Current page display / input - Navigation buttons - Add page - Delete page
                <ul>
                    <li><span class = "instruction-light">The target of page addition / deletion is always the last page.</span></li>
                </ul>
            </li>
            <li>Erase all (Nuke) button
                <ul>
                    <li><span class = "instruction-light">Does not stop playback, or erase links to your samples.</span></li>
                </ul>
            </li>
            <li>Track (Row) clear button + Track trigger indicator</li>
            <li>Instrument (Sample) load / display section
                <ul>
                    <li><span class = "instruction-light">Samples are loaded as (local) links to your audio files.</span></li>
                    <li><span class = "instruction-light">Tip: You can even replace samples while playing through a pattern!</span></li>
                </ul>
            </li>
            <li>Mute / Solo button / indicator</li>
            <li>Steps
                <ul>
                    <li><span class = "instruction-light">Default setup: 16 steps per pattern, 4 steps = 1 beat</span></li>
                    <li><span class = "instruction-light">Per-step parameters will be also reflected here visually:</span>
                        <ol>
                            <li><span class = "instruction-light">Accent : The text content gets redder</span></li>
                            <li><span class = "instruction-light">Conditional : 'X' will be displayed whenever the step isn't triggered</span></li>
                            <li><span class = "instruction-light">Substep : Displayed as the text content</span></li>
                            <li><span class = "instruction-light">Microtiming : Substep text will be shifted to the right</span></li>
                        </ol>
                    </li>
                    <li><span class = "instruction-light">Also, beat dividers will be adjusted accordingly as you change beat length / steps per pattern.</span></li>
                </ul>
            </li>
            <li>Last page indicator
                <ul>
                    <li><span class = "instruction-light">Green when there are more pages ahead, red when it's the last page.</span></li>
                </ul>
            </li>
            <li>Instrument (Sample) Add / Delete button
                <ul>
                    <li><span class = "instruction-light">In a similar manner to page manipulation, the last instrument becomes the target.</span></li>
                </ul>
            </li>
            <li>Steps per pattern (Column) Add / Delete button
                <ul>
                    <li><span class = "instruction-light">Again, it's the last step that gets affected first.</span></li>
                </ul>
            </li>
        </ol>
    </div>

    <hr/>

    <h4 class="footer">Made with ❤️ from 🇰🇷 by Resoluxe (Minsoo Kang)</h4>
    <h4 class="footer">Link to GitHub Repo:  <a href="https://github.com/Resoluxe/BaseDrum">Here!</a></h4>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="index.js" charset="utf-8"></script>
</body>
</html>